{"version":3,"sources":["types/redisSimpleObject.js"],"names":["RedisSimpleObject","set","data","ttl","_beforeAction","encodeRedisData","args","_key","push","_raw","get","decodeRedisData"],"mappings":";;;;;;AAIA;;;;AAEA;;;;;;2cANA;;;;AAQe,MAAMA,iBAAN,gCAA4C;AACjDC,OAAN,CAAUC,IAAV,EAAgBC,GAAhB,EAAoB;AAAA;;AAAA;AAChB,kBAAKC,aAAL;AACAF,mBAAO,sBAAYG,eAAZ,CAA4BH,IAA5B,CAAP;;AAEA,gBAAII,OAAO,CACP,MAAKC,IADE,EAEPL,IAFO,CAAX;;AAKA,gBAAGC,MAAM,CAAT,EAAW;AACPG,qBAAKE,IAAL,CAAU,IAAV;AACAF,qBAAKE,IAAL,CAAUL,GAAV;AACH;;AAED,mBAAO,CAAC,MAAM,MAAKM,IAAL,CAAU,KAAV,EAAiB,GAAGH,IAApB,CAAP,MAAsC,IAA7C;AAdgB;AAenB;;AAEKI,OAAN,GAAW;AAAA;;AAAA;AACP,mBAAKN,aAAL;AACA,mBAAO,sBAAYO,eAAZ,EAA4B,MAAM,OAAKF,IAAL,CAAU,KAAV,EAAiB,OAAKF,IAAtB,CAAlC,EAAP;AAFO;AAGV;AArBsD;kBAAtCP,iB","file":"redisSimpleObject.js","sourcesContent":["/**\r\n * Created by Shlomi\r\n */\r\n\r\nimport RedisHelper from '../utils/redisHelper';\r\n\r\nimport RedisBaseKey from './redisBaseKey';\r\n\r\nexport default class RedisSimpleObject extends RedisBaseKey{\r\n    async set(data, ttl){\r\n        this._beforeAction();\r\n        data = RedisHelper.encodeRedisData(data);\r\n\r\n        let args = [\r\n            this._key,\r\n            data\r\n        ];\r\n\r\n        if(ttl > 0){\r\n            args.push('EX');\r\n            args.push(ttl);\r\n        }\r\n\r\n        return (await this._raw('set', ...args)) === 'OK';\r\n    }\r\n\r\n    async get(){\r\n        this._beforeAction();\r\n        return RedisHelper.decodeRedisData(await this._raw('get', this._key));\r\n    }\r\n}\r\n"]}