{"version":3,"sources":["types/redisBaseKey.js"],"names":["RedisBaseKey","constructor","key","options","client","_key","expire","ttl","Error","_beforeAction","_raw","persist","delete"],"mappings":";;;;;;AAIA;;;;;;2cAJA;;;;AAMe,MAAMA,YAAN,6BAAoC;;AAI/CC,gBAAYC,GAAZ,EAAiBC,UAAU,EAA3B,EAA8B;AAC1B,cAAMA,QAAQC,MAAd;AACA,aAAKC,IAAL,GAAYH,GAAZ;AACH;;AAED;AACMI,UAAN,CAAaC,GAAb,EAAiB;AAAA;;AAAA;AACb,gBAAGA,OAAM,CAAT,EAAa,MAAM,IAAIC,KAAJ,CAAU,mBAAV,CAAN;AACb,kBAAKC,aAAL;AACA,mBAAO,CAAC,EAAC,MAAM,MAAKC,IAAL,CAAU,QAAV,EAAoB,MAAKL,IAAzB,EAA+BE,GAA/B,CAAP,CAAR;AAHa;AAIhB;;AAEKI,WAAN,GAAe;AAAA;;AAAA;AACX,mBAAKF,aAAL;AACA,mBAAO,CAAC,EAAC,MAAM,OAAKC,IAAL,CAAU,SAAV,EAAqB,OAAKL,IAA1B,CAAP,CAAR;AAFW;AAGd;;AAEKE,OAAN,GAAW;AAAA;;AAAA;AACP,mBAAKE,aAAL;AACA,mBAAO,OAAKC,IAAL,CAAU,KAAV,EAAiB,OAAKL,IAAtB,CAAP;AAFO;AAGV;;AAEKO,UAAN,GAAc;AAAA;;AAAA;AACV,mBAAKH,aAAL;AACA,mBAAO,CAAC,EAAC,MAAM,OAAKC,IAAL,CAAU,KAAV,EAAiB,OAAKL,IAAtB,CAAP,CAAR;AAFU;AAGb;AA7B8C;kBAA9BL,Y","file":"redisBaseKey.js","sourcesContent":["/**\r\n * Created by Shlomi\r\n */\r\n\r\nimport RedisBase from './redisBase';\r\n\r\nexport default class RedisBaseKey extends RedisBase{\r\n\r\n    _key;\r\n\r\n    constructor(key, options = {}){\r\n        super(options.client);\r\n        this._key = key;\r\n    }\r\n\r\n    // Redis actions\r\n    async expire(ttl){\r\n        if(ttl <=0 ) throw new Error('Invalid TTL value');\r\n        this._beforeAction();\r\n        return !!await this._raw('expire', this._key, ttl);\r\n    }\r\n\r\n    async persist(){\r\n        this._beforeAction();\r\n        return !!await this._raw('persist', this._key);\r\n    }\r\n\r\n    async ttl(){\r\n        this._beforeAction();\r\n        return this._raw('ttl', this._key);\r\n    }\r\n\r\n    async delete(){\r\n        this._beforeAction();\r\n        return !!await this._raw('del', this._key);\r\n    }\r\n}\r\n"]}