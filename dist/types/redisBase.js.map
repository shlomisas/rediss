{"version":3,"sources":["types/redisBase.js"],"names":["RedisBase","constructor","client","_client","getGlobalClient","_beforeAction","_raw","cmd","args","splice"],"mappings":";;;;;;AAIA;;;;AACA;;;;2cALA;;;;AAOe,MAAMA,SAAN,CAAe;;AAI1BC,gBAAYC,MAAZ,EAAmB;AACf,aAAKC,OAAL,GAAeD,UAAU,sBAAYE,eAAZ,EAAzB;AACH;;AAED;;;AAGAC,oBAAe;AACX,YAAG,CAAC,KAAKF,OAAT,EAAkB,MAAM,qCAAN;AACrB;;AAEKG,QAAN,CAAWC,GAAX,EAAe;AAAA;AAAA;;AAAA;AACX,kBAAKF,aAAL;;AAEA,gBAAG,OAAO,MAAKF,OAAL,CAAaI,GAAb,CAAP,KAA6B,UAAhC,EAA4C,MAAM,sCAAN;;AAE5C,gBAAIC,OAAO,CAAC,aAAD,EAAeC,MAAf,CAAsB,CAAtB,CAAX;AACA,mBAAO,MAAKN,OAAL,CAAaI,GAAb,EAAkBC,IAAlB,CAAP;AANW;AAOd;AAtByB;kBAATR,S","file":"redisBase.js","sourcesContent":["/**\r\n * Created by Shlomi\r\n */\r\n\r\nimport RedisHelper from '../utils/redisHelper';\r\nimport {RedisMissingClientError, RedisInvalidCommandError} from '../errors';\r\n\r\nexport default class RedisBase{\r\n\r\n    _client;\r\n\r\n    constructor(client){\r\n        this._client = client || RedisHelper.getGlobalClient();\r\n    }\r\n\r\n    /**\r\n     * @throws RedisMissingClientError\r\n     */\r\n    _beforeAction(){\r\n        if(!this._client) throw new RedisMissingClientError();\r\n    }\r\n\r\n    async _raw(cmd){\r\n        this._beforeAction();\r\n\r\n        if(typeof this._client[cmd] !== 'function') throw new RedisInvalidCommandError();\r\n\r\n        let args = [...arguments].splice(1);\r\n        return this._client[cmd](args);\r\n    }\r\n}\r\n"]}